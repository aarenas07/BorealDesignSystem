<!-- Button Showcase - Sistema de Diseño Personalizado -->
<div style="padding: 40px; background: var(--md-sys-color-surface); min-height: 100vh;">
  <h1 style="color: var(--md-sys-color-on-surface); margin-bottom: 32px;">
    Sistema de Diseño - Showcase de Botones
  </h1>

  <!-- Variantes Estándar -->
  <section style="margin-bottom: 40px;">
    <h2 style="color: var(--md-sys-color-on-surface); margin-bottom: 16px;">
      Variantes Estándar de Material Design 3
    </h2>
    <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
      <lib-button variant="primary">Primary</lib-button>
      <lib-button variant="danger">Danger</lib-button>
      <lib-button variant="outline">Outline</lib-button>
      <lib-button variant="ghost">Ghost</lib-button>
    </div>
  </section>

  <!-- Colores Extendidos Personalizados -->
  <section style="margin-bottom: 40px;">
    <h2 style="color: var(--md-sys-color-on-surface); margin-bottom: 16px;">
      Colores Extendidos Personalizados
    </h2>
    <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
      <lib-button variant="warning">Warning</lib-button>
      <lib-button variant="positive">Positive</lib-button>
      <lib-button variant="measurement">Measurement</lib-button>
    </div>
  </section>

  <!-- Con Iconos -->
  <section style="margin-bottom: 40px;">
    <h2 style="color: var(--md-sys-color-on-surface); margin-bottom: 16px;">
      Botones con Iconos
    </h2>
    <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
      <lib-button variant="primary" icon="save">Guardar</lib-button>
      <lib-button variant="danger" icon="delete">Eliminar</lib-button>
      <lib-button variant="positive" icon="check_circle">Aprobar</lib-button>
      <lib-button variant="warning" icon="warning">Advertencia</lib-button>
    </div>
  </section>

  <!-- Tamaños -->
  <section style="margin-bottom: 40px;">
    <h2 style="color: var(--md-sys-color-on-surface); margin-bottom: 16px;">
      Tamaños
    </h2>
    <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
      <lib-button variant="primary" size="sm">Pequeño</lib-button>
      <lib-button variant="primary" size="md">Mediano</lib-button>
      <lib-button variant="primary" size="lg">Grande</lib-button>
    </div>
  </section>

  <!-- Estados -->
  <section style="margin-bottom: 40px;">
    <h2 style="color: var(--md-sys-color-on-surface); margin-bottom: 16px;">
      Estados
    </h2>
    <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
      <lib-button variant="primary">Normal</lib-button>
      <lib-button variant="primary" [disabled]="true">Deshabilitado</lib-button>
      <lib-button variant="primary" [loading]="true">Cargando</lib-button>
    </div>
  </section>

  <!-- Botones Nativos de Angular Material (para comparación) -->
  <section style="margin-bottom: 40px;">
    <h2 style="color: var(--md-sys-color-on-surface); margin-bottom: 16px;">
      Botones Nativos de Angular Material (Comparación)
    </h2>
    <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center;">
      <button mat-flat-button color="primary">Primary Nativo</button>
      <button mat-flat-button color="warn">Warn Nativo</button>
      <button mat-stroked-button color="primary">Outline Nativo</button>
      <button mat-button color="primary">Text Nativo</button>
    </div>
  </section>
</div>

<!-- Tabla de Usuarios (Original) -->

<h2>TABLE</h2>
<div class="user-management">
  <header class="page-header">
    <h1>Gestión de Usuarios</h1>
    <button class="add-user-btn" (click)="addUser()">
      <mat-icon>add</mat-icon>
      Agregar Usuario
    </button>
  </header>

  <lib-table
    [columns]="tableColumns"
    [actions]="tableActions"
    [config]="tableConfig"
    [data]="users"
    [expandedRowTemplate]="expandedRowTemplate"
    (sortChange)="onSort($event)"
    (pageChange)="onPageChange($event)"
    (selectionChange)="onSelectionChange($event)"
    (actionClick)="onActionClick($event)"
  >
  </lib-table>

  <!-- Custom Templates -->
  <ng-template #avatarTemplate let-row>
    <div class="user-avatar-cell">
      @if (row.avatar) {
      <img [src]="row.avatar" [alt]="row.name" class="avatar" />
      } @else {
      <div class="avatar-placeholder">{{ getInitials(row.name) }}</div>
      }
      <span>{{ row.name }}</span>
    </div>
  </ng-template>

  <ng-template #statusTemplate let-row>
    <mat-chip-set>
      <mat-chip [highlighted]="true" [class]="'status-' + row.status">
        <mat-icon [class]="'status-icon-' + row.status">
          {{ getStatusIcon(row.status) }}
        </mat-icon>
        {{ getStatusLabel(row.status) }}
      </mat-chip>
    </mat-chip-set>
  </ng-template>

  <ng-template #roleTemplate let-row>
    <mat-chip-set>
      <mat-chip [class]="'role-' + row.role">
        {{ getRoleLabel(row.role) }}
      </mat-chip>
    </mat-chip-set>
  </ng-template>

  <ng-template #salaryTemplate let-row>
    <span class="salary-cell">
      {{ row.salary | currency: 'USD':'symbol':'1.0-0' }}
    </span>
  </ng-template>

  <ng-template #expandedRowTemplate let-row>
    <div class="expanded-row-content">
      <div class="expanded-header">
        <mat-icon class="user-icon">person</mat-icon>
        <h3>Detalles de {{ row.name }}</h3>
      </div>

      <div class="expanded-body">
        <div class="expanded-section">
          <h4>
            <mat-icon>info</mat-icon>
            Información Personal
          </h4>
          <div class="info-grid">
            <div class="info-item">
              <mat-icon>badge</mat-icon>
              <div>
                <label>ID</label>
                <span>{{ row.id }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>email</mat-icon>
              <div>
                <label>Email</label>
                <span>{{ row.email }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>business</mat-icon>
              <div>
                <label>Departamento</label>
                <span>{{ row.department }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>event</mat-icon>
              <div>
                <label>Fecha de Ingreso</label>
                <span>{{ row.joinDate | date: 'longDate' }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="expanded-section">
          <h4>
            <mat-icon>work</mat-icon>
            Información Laboral
          </h4>
          <div class="info-grid">
            <div class="info-item">
              <mat-icon>work</mat-icon>
              <div>
                <label>Rol</label>
                <span>{{ getRoleLabel(row.role) }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>payments</mat-icon>
              <div>
                <label>Salario</label>
                <span>{{ row.salary | currency }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>analytics</mat-icon>
              <div>
                <label>Estado</label>
                <span>{{ getStatusLabel(row.status) }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>
