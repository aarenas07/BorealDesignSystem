<!-- Botón flotante trigger — visible cuando el input está cerrado -->
@if (!isOpen()) {
<button class="input-ai-trigger" (click)="open()">

    <span class="trigger-label">{{ label() }}</span>
    <span class="trigger-shortcut">Ctrl+I</span>
</button>
}

<!-- Input expandido inline — visible cuando el input está abierto -->
@if (isOpen()) {
<div class="input-ai-inline" @expandCollapse>
    <div class="input-ai-container">
        <!-- Botón acción izquierdo -->
        <button class="input-ai-action-btn" type="button">
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
            </svg>
        </button>


        <!-- Campo de texto -->
        <input #queryInput type="text" class="input-ai-field" [placeholder]="placeholder()" [value]="query()"
            (input)="query.set($any($event.target).value)" (keydown)="handleKeydown($event)" autocomplete="off" />

        <!-- Botón enviar -->


        <span class="material-symbols-rounded" (click)="submit()" [class.has-text]="query().trim().length > 0">
            search
        </span>


        <span (click)="submit()" [class.has-text]="query().trim().length > 0" class="material-symbols-rounded">
            mic
        </span>

        <!--         <button class="input-ai-action-btn send-btn" type="button" (click)="submit()"
            [class.has-text]="query().trim().length > 0">
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">

                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />

            </svg>
        </button> -->

    </div>
    <div class="input-ai-actions">

        <button class="input-ai-action-btn" type="button">
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
            </svg>
        </button>
        <button class="input-ai-action-btn" type="button">
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
            </svg>
        </button>
        <button class="input-ai-action-btn" type="button">
            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
            </svg>
        </button>
    </div>
</div>
}