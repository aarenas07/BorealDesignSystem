@switch (variant()) {
  
  @case ('primary') {
    <button mat-flat-button [color]="'primary'" [disabled]="isDisabled()" (click)="handleClick($event)">
      <ng-container *ngTemplateOutlet="contentTpl"></ng-container>
    </button>
  }

  @case ('danger') {
    <button mat-flat-button color="warn" [disabled]="isDisabled()" (click)="handleClick($event)">
      <ng-container *ngTemplateOutlet="contentTpl"></ng-container>
    </button>
  }

  @case ('outline') {
    <button mat-stroked-button color="primary" [disabled]="isDisabled()" (click)="handleClick($event)">
      <ng-container *ngTemplateOutlet="contentTpl"></ng-container>
    </button>
  }

  @case ('ghost') {
    <button mat-button color="primary" [disabled]="isDisabled()" (click)="handleClick($event)">
      <ng-container *ngTemplateOutlet="contentTpl"></ng-container>
    </button>
  }

  @default {
    <button mat-stroked-button [disabled]="isDisabled()" (click)="handleClick($event)">
      <ng-container *ngTemplateOutlet="contentTpl"></ng-container>
    </button>
  }
}

<ng-template #contentTpl>
  <div class="content-wrapper">
    
    @if (loading()) {
      <mat-spinner diameter="20" mode="indeterminate"></mat-spinner>
    } 
    @else if (icon()) {
      <mat-icon>{{ icon() }}</mat-icon>
    }

    <span>
      @if(label()) { {{ label() }} }
      <ng-content></ng-content>
    </span>
    
  </div>
</ng-template>